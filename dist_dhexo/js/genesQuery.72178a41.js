(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["genesQuery"],{"07ac":function(e,t,n){var i=n("23e7"),s=n("6f53").values;i({target:"Object",stat:!0},{values:function(e){return s(e)}})},1276:function(e,t,n){"use strict";var i=n("d784"),s=n("44e7"),a=n("825a"),o=n("1d80"),r=n("4840"),c=n("8aa5"),l=n("50c4"),u=n("14c3"),h=n("9263"),f=n("d039"),d=[].push,v=Math.min,p=4294967295,g=!f((function(){return!RegExp(p,"y")}));i("split",2,(function(e,t,n){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var i=String(o(this)),a=void 0===n?p:n>>>0;if(0===a)return[];if(void 0===e)return[i];if(!s(e))return t.call(i,e,a);var r,c,l,u=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),v=0,g=new RegExp(e.source,f+"g");while(r=h.call(g,i)){if(c=g.lastIndex,c>v&&(u.push(i.slice(v,r.index)),r.length>1&&r.index<i.length&&d.apply(u,r.slice(1)),l=r[0].length,v=c,u.length>=a))break;g.lastIndex===r.index&&g.lastIndex++}return v===i.length?!l&&g.test("")||u.push(""):u.push(i.slice(v)),u.length>a?u.slice(0,a):u}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var s=o(this),a=void 0==t?void 0:t[e];return void 0!==a?a.call(t,s,n):i.call(String(s),t,n)},function(e,s){var o=n(i,e,this,s,i!==t);if(o.done)return o.value;var h=a(e),f=String(this),d=r(h,RegExp),m=h.unicode,_=(h.ignoreCase?"i":"")+(h.multiline?"m":"")+(h.unicode?"u":"")+(g?"y":"g"),y=new d(g?h:"^(?:"+h.source+")",_),b=void 0===s?p:s>>>0;if(0===b)return[];if(0===f.length)return null===u(y,f)?[f]:[];var I=0,C=0,x=[];while(C<f.length){y.lastIndex=g?C:0;var w,k=u(y,g?f:f.slice(C));if(null===k||(w=v(l(y.lastIndex+(g?0:C)),f.length))===I)C=c(f,C,m);else{if(x.push(f.slice(I,C)),x.length===b)return x;for(var D=1;D<=k.length-1;D++)if(x.push(k[D]),x.length===b)return x;C=I=w}}return x.push(f.slice(I)),x}]}),!g)},"137f":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{on:{click:e.handleHideDialog}},[n("vHeader"),n("div",{staticClass:"query-box"},[n("h5",[e._v("查找基因")]),n("div",{staticClass:"box"},[e._l(e.queryList,(function(t,i){return n("span",{key:i,staticClass:"query-btn",class:{"query-btn-active":e.queryActive===i},on:{click:function(t){return e.switchBtn(i)}}},[e._v(e._s(t.name))])})),n("el-input",{staticClass:"query-inp",attrs:{placeholder:e.placeholder},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.queryInp,callback:function(t){e.queryInp=t},expression:"queryInp"}},[n("i",{staticClass:"el-input__icon iconfont icon-sousuo1",attrs:{slot:"append"},on:{click:e.search},slot:"append"})])],2)]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showDetails,expression:"showDetails"}],staticClass:"query-details"},[n("h4",[n("p",{staticClass:"tit"},[n("span",[e._v(e._s(e.info.gene_symbol))]),e.info.gene_symbol&&""!==e.info.gene_symbol?n("i",{staticClass:"collect",class:{collected:e.isCollected},on:{click:e.changeCollect}},[e._v(e._s(e.isCollected?"已收藏":"收藏"))]):e._e()]),n("p",{staticClass:"subheading"},[e._v("别名："+e._s(e.info.otheraliases))])]),n("div",{staticClass:"block block1"},[e._m(0),n("p",{staticClass:"description"},[e._v(e._s(e.info.gene_summary))])]),n("div",{staticClass:"block block2"},[e._m(1),n("ul",{staticClass:"brief-info"},[n("li",[n("i",[e._v("OMIM ID")]),n("span",[e._v(e._s(this.info.OMIM_id))])]),n("li",[n("i",[e._v("Entrez ID")]),n("span",[e._v(e._s(this.info.entrez_id))])]),n("li",[n("i",[e._v("染色体位置（hg38）")]),n("span",[e._v(e._s(this.info.coordinates||""))])])])]),n("div",{staticClass:"block block3"},[e._m(2),n("div",{staticClass:"diseases-tab diseases-tab1"},[e._m(3),n("ul",{staticClass:"context",class:{"no-data":Object.keys(this.info.diseaseAssoc).length<=0}},[Object.keys(this.info.diseaseAssoc).length>0?e._l(this.info.diseaseAssoc,(function(t,i){return n("li",{key:i},[n("p",[e._v(e._s(t.diseaseName))]),n("p",[n("span",{staticClass:"spn",on:{mouseenter:function(n){return e.handleShowDialog(t.diseaseId,i,"diseaseAssoc",n)},click:function(n){return e.handleHideDialog2(t)}}},[e._v(e._s(t.diseaseId))])])])})):[n("li",{staticClass:"no-data"},[e._v("暂无数据")])]],2)]),n("div",{staticClass:"tab2"},[n("p",{staticClass:"tab2-tit"},[e._v("变异相关疾病")]),n("div",{staticClass:"diseases-tab diseases-tab2"},[e._m(4),n("ul",{staticClass:"context",class:{"no-data":Object.keys(this.info.Gene_variant).length<=0}},[Object.keys(this.info.Gene_variant).length>0?e._l(this.info.Gene_variant,(function(t,i){return n("li",{key:i},[n("p",[e._v(e._s(t.variant))]),n("p",[n("span",{staticClass:"spn",on:{click:function(n){return e.toDetail(t["sNP"])}}},[e._v(e._s(t["sNP"]))])]),n("p",{staticStyle:{flex:"1.5"}},[e._v(e._s(t.disease))]),n("p",[n("span",{staticClass:"spn",on:{mouseenter:function(n){return e.handleShowDialog(t.omId,i,"Gene_variant",n)},click:function(n){return e.handleHideDialog3(t)}}},[e._v(e._s(t.omId))])])])})):[n("li",{staticClass:"no-data"},[e._v("暂无数据")])]],2)])])]),n("div",{staticClass:"block block4"},[e._m(5),n("div",{staticClass:"symptoms-tab"},[e._m(6),n("ul",{staticClass:"context",class:{"no-data":Object.keys(this.info.termAssoc).length<=0}},[Object.keys(this.info.termAssoc).length>0?e._l(this.info.termAssoc,(function(t,i){return n("li",{key:i},[n("p",[e._v(e._s(t.name))]),n("p",[e._v(e._s(t.ontologyId))])])})):[n("li",{staticClass:"no-data"},[e._v("暂无数据")])]],2)])]),e._m(7)]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showDetails,expression:"showDetails"}],staticClass:"complete-information"},[n("div",{staticClass:"all"},[n("ul",{staticClass:"aside"},e._l(e.changeInfoList,(function(t,i){return n("li",{key:i,class:{active:e.changeIndex===i},on:{click:function(n){return e.changeInfo(t,i)}}},[e._v(e._s(t.cname))])})),0),n("div",{staticClass:"container"},[n("div",{staticClass:"context"},[n("div",{staticClass:"box"},[n("vue-scroll",{attrs:{ops:e.scrollOps}},[n("h6",[e._v(e._s(e.changeInfoTit))]),n("div",[n("p",{staticClass:"change-txt",domProps:{innerHTML:e._s(e.changeInfoTxt)}})])])],1)])])])]),e.showDialog1?n("InfoDialog",{attrs:{pos:e.InfoDiaPos,data:e.dialogInfo}}):e._e(),n("AsideFix"),n("vFooter")],1)},s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"title"},[n("em",[e._v("基因描述")]),n("span",[e._v("Gene description")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"title"},[n("em",[e._v("简要信息")]),n("span",[e._v("Brief information")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"title"},[n("em",[e._v("相关疾病")]),n("span",[e._v("Related diseases")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"tit"},[n("span",[e._v("疾病名")]),n("span",[e._v("疾病ID")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"tit"},[n("span",[e._v("变异")]),n("span",[e._v("SNP")]),n("span",[e._v("疾病名")]),n("span",[e._v("OMIM ID")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"title"},[n("em",[e._v("相关症状")]),n("span",[e._v("Related symptoms")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"tit"},[n("span",[e._v("症状")]),n("span",[e._v("症状ID")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"block"},[n("p",{staticClass:"title"},[n("em",[e._v("该基因完整信息")]),n("span",[e._v("Complete information of this gene")])])])}];n("a4d3"),n("e01a"),n("4de4"),n("4160"),n("a15b"),n("b0c0"),n("a9e3"),n("b64b"),n("07ac"),n("ac1f"),n("5319"),n("841c"),n("1276"),n("159b"),n("d28b"),n("d3b7"),n("3ca3"),n("ddb0");function a(e){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n("437c"),c=n("1c91"),l=n("3261"),u=n("91b4"),h=n("4e66"),f={components:{vHeader:r["a"],vFooter:c["a"],AsideFix:l["a"],InfoDialog:u["a"]},data:function(){var e;return e={showDetails:!1,queryList:[{name:"基因英文名"},{name:"OMIM id"},{name:"entrze id"}],queryActive:0,placeholder:"",queryInp:"",isCollected:!1,reservedOne:0,currentCollectId:"",scrollOps:{vuescroll:{mode:"native"},scrollPanel:{initialScrollY:!1,initialScrollX:!1,scrollingX:!1,scrollingY:!0,maxHeight:690},rail:{background:"#f1f1f1",opacity:1,size:"9px",specifyBorderRadius:"6px",gutterOfEnds:"10px"},bar:{background:"#3bcaff",onlyShowBarOnScroll:!0,showDelay:0,keepShow:!0,size:"16px"}}},o(e,"isCollected",!1),o(e,"info",{gene_symbol:"",otheraliases:"",gene_summary:"",OMIM_id:"",entrez_id:"",coordinates:"",diseaseAssoc:[],Gene_variant:[],termAssoc:[],Gene_text:{}}),o(e,"showDialog1",!1),o(e,"InfoDiaPos",{}),o(e,"dialogInfo",{}),o(e,"changeInfoList",[]),o(e,"changeInfoTit",""),o(e,"changeInfoTxt",""),o(e,"changeIndex",0),e},methods:{switchBtn:function(e){this.queryActive=e,this.queryInp=""},search:function(){var e=this;if(""!==this.queryInp){var t="",n={};switch(this.queryActive){case 0:t=this.$Url.query.genebySymbol,n={gene_symbol:String(this.queryInp)};break;case 1:t=this.$Url.query.genebyOmId,n={omim_id:String(this.queryInp)};break;case 2:t=this.$Url.query.genebyEntrezId,n={entrez_id:this.queryInp};break}this.$router.push({name:"genesQuery",query:{search:this.queryInp,active:this.queryActive}}),this.$get(t,n).then((function(t){if(200===t.status){var n=t.data||[],i=Object.values(n),s=i.filter((function(e){return e.length>0}));if(s.length<=0)return e.showDetails=!1,void e.$message({type:"warning",duration:2e3,message:"查找的内容不存在"});e.showDetails=!0,e.info.gene_symbol=n.gene_symbol||"",e.info.otheraliases=n.otheraliases||"暂无",e.info.gene_summary=n.gene_summary||n.Gene_text.Description||"暂无",e.info.OMIM_id=n.OMIM_id||"暂无",e.info.entrez_id=n.entrez_id||"暂无";var o="object"===("undefined"===typeof Gene_location?"undefined":a(Gene_location))?Object.values(n["Gene_location"])[0]:[],r=o["Genomic coordinates (GRCh38):"]||n["HG38"]||"暂无",c=r.split(":");if(c.length>0&&"暂无"!==r){var l=c[0],u=c[1].split("-");u=u.sort((function(e,t){return e-t})),e.info.coordinates=l+":"+u.join("-")}else e.info.coordinates=r;e.info.diseaseAssoc=n.diseaseAssoc;var f=n.Gene_variant;f.forEach((function(e){e["sNP"]&&","===e["sNP"][e["sNP"].length-1]?e["sNP"]=e["sNP"].substring(0,e["sNP"].length-1):e["sNP"]="-",e.omId||(e.omId="-")})),e.info.Gene_variant=f;try{var d=n.termAssoc.replace(/ None,/g," 'None',");d=d.replace(/((?<!\())\'(?!\)|\s)/g,'"').replace(/[a-zA-Z]\s\"/g,"'"),e.info.termAssoc=JSON.parse(d)}catch(g){}e.info.Gene_text=n.Gene_text;var v="string"!==typeof e.info.Gene_text?Object.keys(e.info.Gene_text):[];for(var p in e.changeInfoList=[],e.changeInfoTit="",e.changeInfoTxt="",v)Object(h["b"])(v[p],"cn")&&e.changeInfoList.push({cname:Object(h["b"])(v[p],"cn"),ename:v[p]});e.changeInfo(e.changeInfoList[0],0),e.reservedOne=e.queryActive,e.getIsCollect()}else e.$message({type:"error",duration:2e3,message:t.msg})}))}else this.$message({type:"error",duration:2e3,message:"请输入查询内容"})},getPlaceholder:function(){this.placeholder="请输入"+this.queryList[this.queryActive].name},toDetail:function(e){var t=this.$router.resolve({name:"variationQuery",query:{search:e}});window.open(t.href,"_blank")},handleShowDialog:function(e,t,n,i){var s=this;if("-"!==e){if(e.split(":")){var a=e.split(":");e=a[a.length-1]}var o="",r={};"diseaseAssoc"!==n&&"Gene_variant"!==n||(o=this.$Url.query.diseaseInformation,r={OMIM_id:e});var c=this["info"][n][t]["thisDescription"];if(c){this.dialogInfo={title:e,description:c},this.showDialog1=!0;var l=document.body.clientWidth,u=document.body.clientHeight;this.InfoDiaPos={pageX:i.pageX+300>l?i.pageX-380:i.pageX,pageY:i.pageY+300>u?i.pageY-300:i.pageY}}else this.$get(o,r).then((function(a){if(200===a.status){var o=a.data;if(o){"diseaseAssoc"!==n&&"Gene_variant"!==n||(s.dialogInfo={title:e,description:o.Description||o.definition_orp||"暂无"}),s.$set(s["info"][n][t],"thisDescription",s.dialogInfo.description),s.showDialog1=!0;var r=document.body.clientWidth,c=document.body.clientHeight;s.InfoDiaPos={pageX:i.pageX+300>r?i.pageX-380:i.pageX,pageY:i.pageY+300>c?i.pageY-300:i.pageY}}}})).catch((function(e){}))}else this.showDialog1=!1},handleHideDialog:function(){this.showDialog1=!1},handleHideDialog2:function(e){this.showDialog1=!1;var t=e.diseaseId.split(":"),n=this.$router.resolve({name:"diseaseQuery",query:{search:t[t.length-1],active:1}});window.open(n.href,"_blank")},handleHideDialog3:function(e){this.showDialog1=!1;var t=this.$router.resolve({name:"diseaseQuery",query:{search:e.omId,active:1}});window.open(t.href,"_blank")},changeInfo:function(e,t){if(this.changeIndex=t,!(Object.keys(this.info.Gene_text).length<=0))if(this.changeInfoTit=e.cname,"object"===a(this.info.Gene_text[e.ename])){var n=Object.values(this.info.Gene_text[e.ename]),i="";for(var s in n)i+='<span class="indent">'.concat(n[s],"</span>");this.changeInfoTxt=i}else this.changeInfoTxt="<span>"+this.info.Gene_text[e.ename]+"</span>"},getIsCollect:function(){var e=this;this.$post(this.$Url.collect.list).then((function(t){if(200===t.status){var n=t.data;if(n&&n.length>0){var i=n.filter((function(t){return t.name===e.queryInp}));i.length>0?(e.isCollected=!0,e.currentCollectId=i[0].id):e.isCollected=!1}}})).catch((function(e){}))},changeCollect:function(){var e=this;this.isCollected?this.$get(this.$Url.collect.delete,{collectId:this.currentCollectId}).then((function(t){200===t.status&&(e.$message({type:"success",duration:2e3,message:"取消收藏成功"}),e.isCollected=!1)})).catch((function(e){})):this.$post(this.$Url.collect.add,{name:this.queryInp,type:1,reservedOne:this.reservedOne,reservedTow:""}).then((function(t){200===t.status?(e.$message({type:"success",duration:2e3,message:"收藏成功"}),e.currentCollectId=t.data&&t.data.id||"",e.isCollected=!0):e.$message({type:"error",duration:2e3,message:t.msg})})).catch((function(e){}))}},watch:{queryActive:function(){this.getPlaceholder()}},mounted:function(){var e=this.$route.query;e.search&&(this.queryInp=e.search,this.queryActive=Number(e.active)||0,this.search()),this.getPlaceholder()}},d=f,v=(n("9f5f"),n("2877")),p=Object(v["a"])(d,i,s,!1,null,"64b48e54",null);t["default"]=p.exports},"3ca3":function(e,t,n){"use strict";var i=n("6547").charAt,s=n("69f3"),a=n("7dd0"),o="String Iterator",r=s.set,c=s.getterFor(o);a(String,"String",(function(e){r(this,{type:o,string:String(e),index:0})}),(function(){var e,t=c(this),n=t.string,s=t.index;return s>=n.length?{value:void 0,done:!0}:(e=i(n,s),t.index+=e.length,{value:e,done:!1})}))},4144:function(e,t,n){},"44e7":function(e,t,n){var i=n("861d"),s=n("c6b6"),a=n("b622"),o=a("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==s(e))}},"4e66":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var i=[{cname:"分子遗传学",ename:"Molecular Genetics"},{cname:"动物模型",ename:"Animal Model"},{cname:"克隆和表达",ename:"Cloning and Expression"},{cname:"基因功能",ename:"Gene Function"},{cname:"定位",ename:"Mapping"},{cname:"基因结构",ename:"Gene Structure"},{cname:"生物学特征",ename:"Biochemical Features"},{cname:"研究历史",ename:"History"},{cname:"参考文献",ename:""}],s=[{cname:"发病机理",ename:"Pathogenesis"},{cname:"临床表现",ename:"Clinical_Features"},{cname:"临床表现",ename:"Clinical_description_orp"},{cname:"诊断",ename:"Diagnosis"},{cname:"诊断",ename:"Diagnostic_methods_orp"},{cname:"治疗",ename:"Clinical_Management"},{cname:"群体遗传学",ename:"Population_Genetics"},{cname:"生化特征",ename:"Cytogenetics"},{cname:"细胞遗传学",ename:"Biochemical Features"},{cname:"分子遗传学",ename:"Molecular_Genetics"},{cname:"动物模型",ename:"Animal_Model"},{cname:"参考文献",ename:""}];function a(e,t){var n=[],s=[];for(var a in i){var o=i[a].cname,r=i[a].ename;e===o&&s.push(r),e===r&&n.push(o)}if("cn"===t){if(n.length>1)return n;if(n.length>0)return n[0]}if("en"===t){if(s.length>1)return s;if(s.length>0)return s[0]}}function o(e,t){var n=[],i=[];for(var a in s){var o=s[a].cname,r=s[a].ename;e===o&&i.push(r),e===r&&n.push(o)}if("cn"===t){if(n.length>1)return n;if(n.length>0)return n[0]}if("en"===t){if(i.length>1)return i;if(i.length>0)return i[0]}}},"6f53":function(e,t,n){var i=n("83ab"),s=n("df75"),a=n("fc6a"),o=n("d1e7").f,r=function(e){return function(t){var n,r=a(t),c=s(r),l=c.length,u=0,h=[];while(l>u)n=c[u++],i&&!o.call(r,n)||h.push(e?[n,r[n]]:r[n]);return h}};e.exports={entries:r(!0),values:r(!1)}},"9f5f":function(e,t,n){"use strict";var i=n("4144"),s=n.n(i);s.a},a15b:function(e,t,n){"use strict";var i=n("23e7"),s=n("44ad"),a=n("fc6a"),o=n("a640"),r=[].join,c=s!=Object,l=o("join",",");i({target:"Array",proto:!0,forced:c||!l},{join:function(e){return r.call(a(this),void 0===e?",":e)}})},b64b:function(e,t,n){var i=n("23e7"),s=n("7b0b"),a=n("df75"),o=n("d039"),r=o((function(){a(1)}));i({target:"Object",stat:!0,forced:r},{keys:function(e){return a(s(e))}})},d28b:function(e,t,n){var i=n("746f");i("iterator")},ddb0:function(e,t,n){var i=n("da84"),s=n("fdbc"),a=n("e260"),o=n("9112"),r=n("b622"),c=r("iterator"),l=r("toStringTag"),u=a.values;for(var h in s){var f=i[h],d=f&&f.prototype;if(d){if(d[c]!==u)try{o(d,c,u)}catch(p){d[c]=u}if(d[l]||o(d,l,h),s[h])for(var v in a)if(d[v]!==a[v])try{o(d,v,a[v])}catch(p){d[v]=a[v]}}}}}]);
//# sourceMappingURL=genesQuery.72178a41.js.map