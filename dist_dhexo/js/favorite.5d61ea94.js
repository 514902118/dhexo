(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["favorite"],{"498a":function(e,t,s){"use strict";var i=s("23e7"),a=s("58a8").trim,n=s("c8d2");i({target:"String",proto:!0,forced:n("trim")},{trim:function(){return a(this)}})},"8dd5":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"favorite-box"},[s("vLoginHeader"),s("div",{staticClass:"query-box query-box4"},[s("div",{staticClass:"box"},[e._l(e.queryList,(function(t,i){return s("span",{key:i,staticClass:"query-btn",class:{"query-btn-active":e.queryActive===i},on:{click:function(t){return e.switchBtn(i)}}},[e._v(e._s(t.name))])})),s("el-input",{staticClass:"query-inp query-inp2",attrs:{placeholder:e.placeholder},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.queryInp,callback:function(t){e.queryInp=t},expression:"queryInp"}},[s("template",{slot:"prefix"},[s("el-select",{staticClass:"field-type-select",attrs:{placeholder:"请选择"},model:{value:e.fieldType,callback:function(t){e.fieldType=t},expression:"fieldType"}},e._l(e.fieldTypeOptions,(function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),s("i",{staticClass:"el-input__icon iconfont icon-sousuo1",attrs:{slot:"append"},on:{click:e.search},slot:"append"})],2)],2)]),s("div",{staticClass:"main"},[s("div",{staticClass:"sort-box"},[s("div",{staticClass:"tit"},[e._v("排序")]),s("p",{class:{active:0===this.active},on:{click:function(t){return e.handleSort(0)}}},[s("span",[e._v("时间")]),s("i",{staticClass:"el-icon-check"})]),s("p",{class:{active:1===this.active},on:{click:function(t){return e.handleSort(1)}}},[s("span",[e._v("名字")]),s("i",{staticClass:"el-icon-check"})])]),s("div",{staticClass:"query-details"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowDisease,expression:"isShowDisease"}],staticClass:"block block1"},[e._m(0),s("div",{staticClass:"diseases-tab"},[e._m(1),s("ul",{staticClass:"context"},[this.diseaseList.length>0?e._l(this.diseaseList,(function(t,i){return s("li",{key:i},[s("p",[e._v(e._s(t.diseaseName))]),s("p",[s("span",{staticClass:"spn",on:{click:function(s){return e.toQueryPage(t)}}},[e._v(e._s(t.name))])]),s("p",[e._v(e._s(t.collectTime))]),s("p",[s("span",{staticClass:"remark"},[t.isAllowedNote?[s("el-input",{staticClass:"note-inp",attrs:{type:"textarea",disabled:!t.isAllowedNote,autosize:"",placeholder:"请输入备注"},model:{value:t.reservedTow,callback:function(s){e.$set(t,"reservedTow",s)},expression:"item.reservedTow"}})]:[s("span",[e._v(e._s(t.reservedTow))])],s("i",{staticClass:"edite-btn el-icon-edit",attrs:{title:"修改备注"},on:{click:function(s){return e.changeEdit(t,i)}}})],2)])])})):[s("li",{staticClass:"no-data"},[e._v("暂无数据")])]],2)])]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowGene,expression:"isShowGene"}],staticClass:"block block2"},[e._m(2),s("div",{staticClass:"gene-tab"},[e._m(3),s("ul",{staticClass:"context"},[this.geneList.length>0?e._l(this.geneList,(function(t,i){return s("li",{key:i},[s("p",[s("span",{staticClass:"spn",on:{click:function(s){return e.toQueryPage(t)}}},[e._v(e._s(t.name))])]),s("p",[e._v(e._s(t.collectTime))]),s("p",[s("span",{staticClass:"remark"},[t.isAllowedNote?[s("el-input",{staticClass:"note-inp",attrs:{type:"textarea",disabled:!t.isAllowedNote,autosize:"",placeholder:"请输入备注"},model:{value:t.reservedTow,callback:function(s){e.$set(t,"reservedTow",s)},expression:"item.reservedTow"}})]:[s("span",[e._v(e._s(t.reservedTow))])],s("i",{staticClass:"edite-btn el-icon-edit",attrs:{title:"修改备注"},on:{click:function(s){return e.changeEdit(t,i)}}})],2)])])})):[s("li",{staticClass:"no-data"},[e._v("暂无数据")])]],2)])]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowVariation,expression:"isShowVariation"}],staticClass:"block block3"},[e._m(4),s("div",{staticClass:"variation-tab"},[e._m(5),s("ul",{staticClass:"context"},[this.variationList.length>0?e._l(this.variationList,(function(t,i){return s("li",{key:i},[s("p",{staticStyle:{"text-align":"center"}},[s("span",{staticClass:"spn",on:{click:function(s){return e.toQueryPage(t)}}},[e._v(e._s(t.name))])]),s("p",[e._v(e._s(t.collectTime))]),s("p",[s("span",{staticClass:"remark"},[t.isAllowedNote?[s("el-input",{staticClass:"note-inp",attrs:{type:"textarea",disabled:!t.isAllowedNote,autosize:"",placeholder:"请输入备注"},model:{value:t.reservedTow,callback:function(s){e.$set(t,"reservedTow",s)},expression:"item.reservedTow"}})]:[s("span",[e._v(e._s(t.reservedTow))])],s("i",{staticClass:"edite-btn el-icon-edit",attrs:{title:"修改备注"},on:{click:function(s){return e.changeEdit(t,i)}}})],2)])])})):[s("li",{staticClass:"no-data"},[e._v("暂无数据")])]],2)])])])]),s("AsideFix"),s("vFooter")],1)},a=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",{staticClass:"title"},[s("em",[e._v("疾病")]),s("span",[e._v("Disease")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",{staticClass:"tit"},[s("span",[e._v("疾病名")]),s("span",[e._v("疾病ID")]),s("span",[e._v("收藏时间")]),s("span",[e._v("备注")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",{staticClass:"title"},[s("em",[e._v("基因")]),s("span",[e._v("Gene")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",{staticClass:"tit"},[s("span",[e._v("基因名")]),s("span",[e._v("收藏时间")]),s("span",[e._v("备注")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",{staticClass:"title"},[s("em",[e._v("变异")]),s("span",[e._v("Variation")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",{staticClass:"tit"},[s("span",[e._v("RS")]),s("span",[e._v("收藏时间")]),s("span",[e._v("备注")])])}],n=(s("99af"),s("4de4"),s("4160"),s("b0c0"),s("ac1f"),s("1276"),s("498a"),s("159b"),s("c1df")),l=s.n(n),r=s("8468"),o=s("1c91"),c=s("3261"),u={components:{vLoginHeader:r["a"],vFooter:o["a"],AsideFix:c["a"]},data:function(){return{queryList:[{name:"疾病"},{name:"基因"},{name:"变异"}],fieldTypeOptions:[],fieldType:"",queryActive:0,placeholder:"",queryInp:"",diseaseList:[],geneList:[],variationList:[],_diseaseList:[],_geneList:[],_variationList:[],listParams:{timeAsc:"1",nameAsc:""},total:0,pageSize:10,active:0,autosize:{minRows:1,maxRows:8},isShowDisease:!0,isShowGene:!0,isShowVariation:!0}},methods:{getFavoriteList:function(){var e=this;this.$post(this.$Url.collect.list,this.listParams).then((function(t){if(200===t.status){var s=t.data;if(s&&s.length>0){var i=[],a=[],n=[];s.forEach((function(e){var t=l()(s.createTime).format("YYYY MM DD"),r=t.split(" ");e.isAllowedNote=!1,""===e.reservedTow&&(e.reservedTow="暂无"),0===e.type?(e.collectTime="".concat(r[0],"年").concat(r[1],"月").concat(r[2],"日"),i.push(e)):1===e.type?(e.collectTime="".concat(r[0],"年").concat(r[1],"月").concat(r[2],"日"),a.push(e)):2===e.type&&(e.collectTime="".concat(r[0],"年").concat(r[1],"月").concat(r[2],"日"),n.push(e))})),e.diseaseList=i,e.geneList=a,e.variationList=n,e._diseaseList=JSON.parse(JSON.stringify(e.diseaseList)),e._geneList=JSON.parse(JSON.stringify(e.geneList)),e._variationList=JSON.parse(JSON.stringify(e.variationList))}}})).catch((function(e){}))},changeEdit:function(e,t){var s=this,i=e.type;e.isAllowedNote?this.$get(this.$Url.collect.update,{collectId:e.id,remark:e.reservedTow}).then((function(a){0===i?s.$set(s.diseaseList[t],"isAllowedNote",!e.isAllowedNote):1===i?s.$set(s.geneList[t],"isAllowedNote",!e.isAllowedNote):2===i&&s.$set(s.variationList[t],"isAllowedNote",!e.isAllowedNote)})).catch((function(e){})):0===i?this.$set(this.diseaseList[t],"isAllowedNote",!e.isAllowedNote):1===i?this.$set(this.geneList[t],"isAllowedNote",!e.isAllowedNote):2===i&&this.$set(this.variationList[t],"isAllowedNote",!e.isAllowedNote)},toQueryPage:function(e){var t="";0===e.type?t="diseaseQuery":1===e.type?t="genesQuery":2===e.type&&(t="variationQuery");var s=this.$router.resolve({name:t,query:{search:e.name,active:""!==e.reservedOne?e.reservedOne:"0"}});window.open(s.href,"_blank")},switchBtn:function(e){this.initFieldType(e),this.queryActive=e},initFieldType:function(e){0==e?(this.fieldTypeOptions=[{label:"英文名",value:"disease_name"},{label:"OMIM id",value:"OMIM_id"}],this.fieldType="disease_name"):1==e?(this.fieldTypeOptions=[{label:"英文名",value:"gene_symbol"},{label:"OMIM id",value:"omim_id"},{label:"entrze id",value:"entrez_id"}],this.fieldType="gene_symbol"):2==e&&(this.fieldTypeOptions=[{label:"RS号",value:"RSId"}],this.fieldType="RSId")},search:function(){var e=this;if(""===this.queryInp&&this.$message({type:"error",duration:2e3,message:this.placeholder}),0===this.queryActive){var t=this._diseaseList.filter((function(t){return t.name===e.queryInp.trim()}));t.length>0?this.toQueryPage(t[0]):this.$message({type:"error",duration:2e3,message:"未找到对应数据"})}else if(1===this.queryActive){var s=this._geneList.filter((function(t){return t.name===e.queryInp.trim()}));s.length>0?this.toQueryPage(s[0]):this.$message({type:"error",duration:2e3,message:"未找到对应数据"})}else if(2===this.queryActive){var i=this._variationList.filter((function(t){return t.name===e.queryInp.trim()}));i.length>0?this.toQueryPage(i[0]):this.$message({type:"error",duration:2e3,message:"未找到对应数据"})}},handleSort:function(e){switch(this.active=e,this.isShowDisease=!0,this.isShowGene=!0,this.isShowVariation=!0,e){case 0:this.listParams.nameAsc="",this.listParams.timeAsc="1",this.getFavoriteList();break;case 1:this.listParams.nameAsc="1",this.listParams.timeAsc="",this.getFavoriteList();break}},getPlaceholder:function(){var e=this,t=this.fieldTypeOptions.filter((function(t){return t.value===e.fieldType}));this.placeholder="请输入"+this.queryList[this.queryActive].name+t[0].label}},watch:{queryActive:function(){this.getPlaceholder()},fieldType:function(){this.getPlaceholder()}},mounted:function(){this.initFieldType(0),this.getPlaceholder(),this.getFavoriteList()}},d=u,v=(s("f7af"),s("2877")),p=Object(v["a"])(d,i,a,!1,null,"0bfe5868",null);t["default"]=p.exports},a6f2:function(e,t,s){},c8d2:function(e,t,s){var i=s("d039"),a=s("5899"),n="​᠎";e.exports=function(e){return i((function(){return!!a[e]()||n[e]()!=n||a[e].name!==e}))}},f7af:function(e,t,s){"use strict";var i=s("a6f2"),a=s.n(i);a.a}}]);
//# sourceMappingURL=favorite.5d61ea94.js.map