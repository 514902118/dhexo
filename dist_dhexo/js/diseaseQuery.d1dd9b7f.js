(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["diseaseQuery"],{"0788":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("vHeader"),n("div",{staticClass:"query-box"},[n("h5",[e._v("查找遗传病")]),n("div",{staticClass:"box"},[e._l(e.queryList,(function(t,i){return n("span",{key:i,staticClass:"query-btn",class:{"query-btn-active":e.queryActive===i},on:{click:function(t){return e.switchBtn(i)}}},[e._v(e._s(t.name))])})),0===e.queryActive?[n("el-autocomplete",{staticClass:"query-inp",attrs:{"fetch-suggestions":e.querySearch,placeholder:"请输入全大写英文疾病名","trigger-on-focus":!1},on:{select:e.handleSelect},model:{value:e.queryInp,callback:function(t){e.queryInp=t},expression:"queryInp"}},[n("i",{staticClass:"el-input__icon iconfont icon-sousuo1",attrs:{slot:"append"},on:{click:e.search},slot:"append"})])]:[n("el-input",{staticClass:"query-inp",attrs:{placeholder:e.placeholder},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.queryInp,callback:function(t){e.queryInp=t},expression:"queryInp"}},[n("i",{staticClass:"el-input__icon iconfont icon-sousuo1",attrs:{slot:"append"},on:{click:e.search},slot:"append"})])]],2)]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showDetails,expression:"showDetails"}],staticClass:"query-details"},[n("h4",[n("p",{staticClass:"tit"},[n("span",[e._v(e._s(e.info.disease_name))]),e.info.disease_name&&""!==e.info.disease_name?n("i",{staticClass:"collect",class:{collected:e.isCollected},on:{click:e.changeCollect}},[e._v(e._s(e.isCollected?"已收藏":"收藏"))]):e._e()])]),"暂无"!=e.info.Description?n("div",{staticClass:"block block1"},[e._m(0),n("p",{staticClass:"description"},[e._v(e._s(e.info.Description))])]):e._e(),"暂无"!=e.info.Description?n("div",{staticClass:"block block2"},[e._m(1),n("ul",{staticClass:"brief-info"},["暂无"!=e.info.Age_of_onset_orp?n("li",[n("i",[e._v("发病年龄")]),n("span",[e._v(e._s(e.info.Age_of_onset_orp))])]):e._e(),"暂无"!=e.info.Inheritance_orp?n("li",[n("i",[e._v("遗传方式")]),n("span",[e._v(e._s(e.info.Inheritance_orp))])]):e._e(),"暂无"!=e.info.Prevalence_orp?n("li",[n("i",[e._v("发病率")]),n("span",[e._v(e._s(e.info.Prevalence_orp))])]):e._e()])]):e._e(),e.isMoreRelationship&&this.info.Phenotype_gene_relationship.length>0&&"暂无"!==e.info.Phenotype_gene_relationship[0].OMIM_id&&"暂无"!==e.info.Phenotype_gene_relationship[0].Location&&"暂无"!==e.info.Phenotype_gene_relationship[0].Gene&&"暂无"!==e.info.Phenotype_gene_relationship[0].Phenotype?n("div",{staticClass:"block block3"},[e._m(2),n("div",{staticClass:"gene"},[e.isMoreRelationship?[n("div",{staticClass:"diseases-tab diseases-tab1",staticStyle:{"margin-bottom":"0"}},[e._m(3),n("ul",{staticClass:"context"},e._l(this.info.Phenotype_gene_relationship,(function(t,i){return n("li",{key:i},[n("p",{staticStyle:{"text-align":"center"},attrs:{title:t.Phenotype}},[e._v(e._s(t.Phenotype))]),n("p",{staticStyle:{"text-align":"center"},attrs:{title:t.Gene}},[e._v(e._s(t.Gene))]),n("p",[e._v(e._s(t.Location))]),n("p",[n("span",{staticClass:"spn",on:{mouseenter:function(n){return e.handleShowDialog(t.OMIM_id,i,n)},click:function(n){return e.handleHideDialog(t)}}},[e._v(e._s(t.OMIM_id))])])])})),0),n("div",{staticClass:"mapping"},[n("p",{staticClass:"txt"},[e._v(e._s(e.info.Mapping))])])])]:[n("ul",{staticClass:"aside",class:{"brief-info":""===e.info.Mapping}},[n("li",[n("i",[e._v("疾病名")]),n("p",{staticStyle:{"text-align":"center"},attrs:{title:e.info.Phenotype_gene_relationship[0].Phenotype}},[e._v(e._s(e.info.Phenotype_gene_relationship[0].Phenotype))])]),n("li",[n("i",[e._v("基因名")]),n("p",{attrs:{title:e.info.Phenotype_gene_relationship[0].Gene}},[e._v(e._s(e.info.Phenotype_gene_relationship[0].Gene))])]),n("li",[n("i",[e._v("染色体位置")]),n("p",[e._v(e._s(e.info.Phenotype_gene_relationship[0].Location))])]),n("li",[n("i",[e._v("OMIM id")]),n("p",[n("span",{class:{spn:"暂无"!==e.info.Phenotype_gene_relationship[0].OMIM_id},on:{mouseenter:function(t){return e.handleShowDialog(e.info.Phenotype_gene_relationship[0].OMIM_id,0,t)},click:function(t){return e.handleHideDialog(e.info.Phenotype_gene_relationship[0])}}},[e._v(" "+e._s(e.info.Phenotype_gene_relationship[0].OMIM_id)+" ")])])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:""!==e.info.Mapping,expression:"info.Mapping !== ''"}],staticClass:"mapping"},[n("p",[e._v(e._s(e.info.Mapping))])])]],2)]):e._e(),e.changeInfoTxt?n("div",{staticClass:"block"},[e._m(4)]):e._e()]),e.showDetails?n("div",{staticClass:"complete-information"},[e.changeInfoTxt?n("div",{staticClass:"all"},[n("ul",{staticClass:"aside"},e._l(e.changeInfoList,(function(t,i){return n("li",{key:i,class:{active:e.changeIndex===i},on:{click:function(n){return e.changeInfo(t,i)}}},[e._v(e._s(t.cname))])})),0),n("div",{staticClass:"container"},[n("div",{staticClass:"context"},[n("div",{staticClass:"box"},[n("vue-scroll",{attrs:{ops:e.scrollOps}},[n("h6",[e._v(e._s(e.changeInfoTit))]),n("div",[n("p",{staticClass:"change-txt",domProps:{innerHTML:e._s(e.changeInfoTxt)}})])])],1)])])]):e._e()]):e._e(),e.showDialog1?n("InfoDialog",{attrs:{pos:e.InfoDiaPos,data:e.dialogInfo}}):e._e(),n("AsideFix"),n("vFooter")],1)},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"title"},[n("em",[e._v("疾病描述")]),n("span",[e._v("Disease description")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"title"},[n("em",[e._v("简要信息")]),n("span",[e._v("Brief information")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"title"},[n("em",[e._v("基因关联")]),n("span",[e._v("Gene association")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"tit"},[n("span",[e._v("疾病名")]),n("span",[e._v("基因名")]),n("span",[e._v("染色体位置")]),n("span",[e._v("OMIM id")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"title"},[n("em",[e._v("该疾病完整信息")]),n("span",[e._v("Complete information of the disease")])])}],s=(n("a4d3"),n("e01a"),n("4de4"),n("4160"),n("a434"),n("b0c0"),n("a9e3"),n("b64b"),n("07ac"),n("ac1f"),n("5319"),n("841c"),n("159b"),n("437c")),o=n("1c91"),r=n("3261"),c=n("91b4"),l=n("4e66"),h={components:{vHeader:s["a"],vFooter:o["a"],AsideFix:r["a"],InfoDialog:c["a"]},data:function(){return{showDetails:!1,queryList:[{name:"疾病英文名"},{name:"OMIM id"}],queryActive:0,placeholder:"",queryInp:"",isCollected:!1,reservedOne:0,currentCollectId:"",info:{disease_name:"",Description:"",Age_of_onset_orp:"",Inheritance_orp:"",Prevalence_orp:"",Phenotype_gene_relationship:[{Phenotype:"",Gene:"",Location:"",OMIM_id:""}],Mapping:"",Pathogenesis:"",Clinical_Features:"",Diagnosis:"",Clinical_Management:"",Population_Genetics:"",Cytogenetics:"",BiochemicalFeatures:"",Molecular_Genetics:"",Animal_Model:"",reference:""},isMoreRelationship:!1,scrollOps:{vuescroll:{mode:"native"},scrollPanel:{initialScrollY:!1,initialScrollX:!1,scrollingX:!1,scrollingY:!0,maxHeight:690},rail:{background:"#f1f1f1",opacity:1,size:"9px",specifyBorderRadius:"6px",gutterOfEnds:"10px"},bar:{background:"#3bcaff",onlyShowBarOnScroll:!0,showDelay:0,keepShow:!0,size:"16px"}},showDialog1:!1,InfoDiaPos:{},dialogInfo:{},changeInfoList:[{name:"分子遗传学"},{name:"克隆和表达"},{name:"基因功能"},{name:"定位"}],changeInfoTit:"",changeInfoTxt:"",changeIndex:0}},methods:{switchBtn:function(e){this.queryActive=e,this.queryInp=""},search:function(){var e=this;if(""!==this.queryInp){var t="",n={};switch(this.queryActive){case 0:t=this.$Url.query.diseaseInfoByName,n={disease_name:String(this.queryInp)};break;case 1:t=this.$Url.query.diseaseInformation,n={OMIM_id:String(this.queryInp)};break}this.$router.push({name:"diseaseQuery",query:{search:this.queryInp,active:this.queryActive}}),this.showDialog1=!1,this.$get(t,n).then((function(t){if(200===t.status){var n=t.data||[];if(Object.keys(n).length<=0)return e.showDetails=!1,void e.$message({type:"warning",duration:2e3,message:"查找的内容不存在"});e.showDetails=!0,e.originData=n,e.info.disease_name=n.disease_name,e.info.Description=n.Description||n.definition_orp||"暂无",e.info.Age_of_onset_orp=n.Age_of_onset_orp||"暂无",e.info.Inheritance_orp=n.Inheritance_orp||"暂无",e.info.Prevalence_orp=n.Prevalence_orp||"暂无";var i=n.Phenotype_gene_relationship;""!==i&&"string"===typeof i?(i=i.replace(/ None,/g," 'None',"),i=JSON.parse(i.replace(/\'/g,'"')),""!==i?e.getShip(i):(e.isMoreRelationship=!1,e.info.Phenotype_gene_relationship=[{Phenotype:"暂无",Gene:"暂无",Location:"暂无",OMIM_id:"暂无"}])):i?e.getShip(i):(e.isMoreRelationship=!0,e.info.Phenotype_gene_relationship=[{Phenotype:"暂无",Gene:"暂无",Location:"暂无",OMIM_id:"暂无"}]),e.info.Mapping=n.Mapping;var a=Object.keys(n),s=Object.values(n),o=[];for(var r in e.changeInfoTit="",e.changeInfoTxt="",a)Object(l["a"])(a[r],"cn")&&""!==s[r]&&o.push({cname:Object(l["a"])(a[r],"cn"),ename:a[r]});for(var c=0;c<o.length;c++)for(var h=c+1;h<o.length;h++)o[h].cname===o[c].cname&&(o.splice(h,1),h--);e.changeInfoList=o,e.changeInfoList.length>0&&e.changeInfo(e.changeInfoList[0],0),e.reservedOne=e.queryActive,e.getIsCollect()}else e.$message({type:"error",duration:2e3,message:t.msg})}))}else this.$message({type:"error",duration:2e3,message:"请输入查询内容"})},getShip:function(e){e.length>1?this.isMoreRelationship=!0:this.isMoreRelationship=!1;var t=[];for(var n in e){var i=e[n]["Phenotype"];"{"===i[0]&&(i=i.substr(1,i.length-1)),"}"===i[i.length-1]&&(i=i.substr(0,i.length-1));var a={Phenotype:i||"暂无",Gene:e[n]["Gene/Locus"]||"暂无",Location:e[n].Location||"暂无",OMIM_id:e[n]["Gene/Locus  MIM number"]||"暂无"};t.push(a)}this.info.Phenotype_gene_relationship=t},changeInfo:function(e,t){this.changeIndex=t,this.changeInfoTit=e&&e.cname;var n=this.originData[e.ename];"临床表现"===e.cname?n=this.originData["Clinical_Features"]||this.originData["Clinical_description_orp"]:"诊断"===e.cname&&(n=this.originData["Diagnosis"]||this.originData["Diagnostic_methods_orp"]),this.changeInfoTxt="<span>"+n+"</span>"},getPlaceholder:function(){this.placeholder="请输入"+this.queryList[this.queryActive].name},handleShowDialog:function(e,t,n){var i=this;if("-"!==e&&"暂无"!==e){var a=this.info.Phenotype_gene_relationship[t]["thisDescription"];if(a){this.dialogInfo={title:e,type:"OMIM:"+e,description:a},this.showDialog1=!0;var s=document.body.clientWidth,o=document.body.clientHeight;this.InfoDiaPos={pageX:n.pageX+300>s?n.pageX-380:n.pageX,pageY:n.pageY+300>o?n.pageY-300:n.pageY}}else this.$get(this.$Url.query.genebyOmId,{omim_id:e}).then((function(a){if(200===a.status){var s=a.data;if(s){i.dialogInfo={title:e,type:"OMIM:"+e,description:""!==s.gene_summary?s.gene_summary:"暂无"},i.$set(i.info.Phenotype_gene_relationship[t],"thisDescription",i.dialogInfo.description),i.showDialog1=!0;var o=document.body.clientWidth,r=document.body.clientHeight;i.InfoDiaPos={pageX:n.pageX+300>o?n.pageX-380:n.pageX,pageY:n.pageY+300>r?n.pageY-300:n.pageY}}}})).catch((function(e){}))}else this.showDialog1=!1},handleHideDialog:function(e){this.showDialog1=!1;var t=this.$router.resolve({name:"genesQuery",query:{search:e.OMIM_id,active:1}});window.open(t.href,"_blank")},querySearch:function(e,t){this.$get(this.$Url.query.byDiseaseName,{diseaseName:e}).then((function(e){var n=e.data;n&&(n.forEach((function(e){e.value=e.diseaseName})),t(n))})).catch((function(e){}))},handleSelect:function(e){this.queryInp=e.diseaseName,this.search()},getIsCollect:function(){var e=this;this.$post(this.$Url.collect.list).then((function(t){if(200===t.status){var n=t.data;if(n&&n.length>0){var i=n.filter((function(t){return t.name===e.queryInp}));i.length>0?(e.isCollected=!0,e.currentCollectId=i[0].id):e.isCollected=!1}}})).catch((function(e){}))},changeCollect:function(){var e=this;this.isCollected?this.$get(this.$Url.collect.delete,{collectId:this.currentCollectId}).then((function(t){200===t.status&&(e.$message({type:"success",duration:2e3,message:"取消收藏成功"}),e.isCollected=!1)})).catch((function(e){})):this.$post(this.$Url.collect.add,{name:this.queryInp,type:0,reservedOne:this.reservedOne,reservedTow:""}).then((function(t){200===t.status?(e.$message({type:"success",duration:2e3,message:"收藏成功"}),e.currentCollectId=t.data&&t.data.id||"",e.isCollected=!0):e.$message({type:"error",duration:2e3,message:t.msg})})).catch((function(e){}))}},watch:{queryActive:function(){this.getPlaceholder()}},mounted:function(){var e=this.$route.query;e.search&&(this.queryInp=e.search,this.queryActive=Number(e.active)||0,this.search()),this.getPlaceholder()}},p=h,u=(n("0e7c"),n("2877")),f=Object(u["a"])(p,i,a,!1,null,"6687fd1e",null);t["default"]=f.exports},"07ac":function(e,t,n){var i=n("23e7"),a=n("6f53").values;i({target:"Object",stat:!0},{values:function(e){return a(e)}})},"0e7c":function(e,t,n){"use strict";n("9315")},"159b":function(e,t,n){var i=n("da84"),a=n("fdbc"),s=n("17c2"),o=n("9112");for(var r in a){var c=i[r],l=c&&c.prototype;if(l&&l.forEach!==s)try{o(l,"forEach",s)}catch(h){l.forEach=s}}},"17c2":function(e,t,n){"use strict";var i=n("b727").forEach,a=n("a640"),s=n("ae40"),o=a("forEach"),r=s("forEach");e.exports=o&&r?[].forEach:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}},4160:function(e,t,n){"use strict";var i=n("23e7"),a=n("17c2");i({target:"Array",proto:!0,forced:[].forEach!=a},{forEach:a})},"4e66":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return o}));var i=[{cname:"分子遗传学",ename:"Molecular Genetics"},{cname:"动物模型",ename:"Animal Model"},{cname:"克隆和表达",ename:"Cloning and Expression"},{cname:"基因功能",ename:"Gene Function"},{cname:"定位",ename:"Mapping"},{cname:"基因结构",ename:"Gene Structure"},{cname:"生物学特征",ename:"Biochemical Features"},{cname:"研究历史",ename:"History"},{cname:"参考文献",ename:""}],a=[{cname:"发病机理",ename:"Pathogenesis"},{cname:"临床表现",ename:"Clinical_Features"},{cname:"临床表现",ename:"Clinical_description_orp"},{cname:"诊断",ename:"Diagnosis"},{cname:"诊断",ename:"Diagnostic_methods_orp"},{cname:"治疗",ename:"Clinical_Management"},{cname:"群体遗传学",ename:"Population_Genetics"},{cname:"生化特征",ename:"Cytogenetics"},{cname:"细胞遗传学",ename:"Biochemical Features"},{cname:"分子遗传学",ename:"Molecular_Genetics"},{cname:"动物模型",ename:"Animal_Model"},{cname:"参考文献",ename:""}];function s(e,t){var n=[],a=[];for(var s in i){var o=i[s].cname,r=i[s].ename;e===o&&a.push(r),e===r&&n.push(o)}if("cn"===t){if(n.length>1)return n;if(n.length>0)return n[0]}if("en"===t){if(a.length>1)return a;if(a.length>0)return a[0]}}function o(e,t){var n=[],i=[];for(var s in a){var o=a[s].cname,r=a[s].ename;e===o&&i.push(r),e===r&&n.push(o)}if("cn"===t){if(n.length>1)return n;if(n.length>0)return n[0]}if("en"===t){if(i.length>1)return i;if(i.length>0)return i[0]}}},"6f53":function(e,t,n){var i=n("83ab"),a=n("df75"),s=n("fc6a"),o=n("d1e7").f,r=function(e){return function(t){var n,r=s(t),c=a(r),l=c.length,h=0,p=[];while(l>h)n=c[h++],i&&!o.call(r,n)||p.push(e?[n,r[n]]:r[n]);return p}};e.exports={entries:r(!0),values:r(!1)}},9315:function(e,t,n){},a434:function(e,t,n){"use strict";var i=n("23e7"),a=n("23cb"),s=n("a691"),o=n("50c4"),r=n("7b0b"),c=n("65f0"),l=n("8418"),h=n("1dde"),p=n("ae40"),u=h("splice"),f=p("splice",{ACCESSORS:!0,0:0,1:2}),_=Math.max,g=Math.min,d=9007199254740991,m="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!u||!f},{splice:function(e,t){var n,i,h,p,u,f,v=r(this),y=o(v.length),I=a(e,y),M=arguments.length;if(0===M?n=i=0:1===M?(n=0,i=y-I):(n=M-2,i=g(_(s(t),0),y-I)),y+n-i>d)throw TypeError(m);for(h=c(v,i),p=0;p<i;p++)u=I+p,u in v&&l(h,p,v[u]);if(h.length=i,n<i){for(p=I;p<y-i;p++)u=p+i,f=p+n,u in v?v[f]=v[u]:delete v[f];for(p=y;p>y-i+n;p--)delete v[p-1]}else if(n>i)for(p=y-i;p>I;p--)u=p+i-1,f=p+n-1,u in v?v[f]=v[u]:delete v[f];for(p=0;p<n;p++)v[p+I]=arguments[p+2];return v.length=y-i+n,h}})},b64b:function(e,t,n){var i=n("23e7"),a=n("7b0b"),s=n("df75"),o=n("d039"),r=o((function(){s(1)}));i({target:"Object",stat:!0,forced:r},{keys:function(e){return s(a(e))}})},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=diseaseQuery.d1dd9b7f.js.map