(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["diseaseQuery"],{"0788":function(e,n,t){"use strict";t.r(n);var i=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("vHeader"),t("div",{staticClass:"query-box"},[t("h5",[e._v("查找遗传病")]),t("div",{staticClass:"box"},[e._l(e.queryList,(function(n,i){return t("span",{key:i,staticClass:"query-btn",class:{"query-btn-active":e.queryActive===i},on:{click:function(n){return e.switchBtn(i)}}},[e._v(e._s(n.name))])})),0===e.queryActive?[t("el-autocomplete",{staticClass:"query-inp",attrs:{"fetch-suggestions":e.querySearch,placeholder:"请输入全大写英文疾病名","trigger-on-focus":!1},on:{select:e.handleSelect},model:{value:e.queryInp,callback:function(n){e.queryInp=n},expression:"queryInp"}},[t("i",{staticClass:"el-input__icon iconfont icon-sousuo1",attrs:{slot:"append"},on:{click:e.search},slot:"append"})])]:[t("el-input",{staticClass:"query-inp",attrs:{placeholder:e.placeholder},nativeOn:{keyup:function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"enter",13,n.key,"Enter")?null:e.search(n)}},model:{value:e.queryInp,callback:function(n){e.queryInp=n},expression:"queryInp"}},[t("i",{staticClass:"el-input__icon iconfont icon-sousuo1",attrs:{slot:"append"},on:{click:e.search},slot:"append"})])]],2)]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.showDetails,expression:"showDetails"}],staticClass:"query-details"},[t("h4",[t("p",{staticClass:"tit"},[t("span",[e._v(e._s(e.info.disease_name))]),e.info.disease_name&&""!==e.info.disease_name?t("i",{staticClass:"collect",class:{collected:e.isCollected},on:{click:e.changeCollect}},[e._v(e._s(e.isCollected?"已收藏":"收藏"))]):e._e()])]),"暂无"!=e.info.Description?t("div",{staticClass:"block block1"},[e._m(0),t("p",{staticClass:"description"},[e._v(e._s(e.info.Description))])]):e._e(),"暂无"!=e.info.Description?t("div",{staticClass:"block block2"},[e._m(1),t("ul",{staticClass:"brief-info"},["暂无"!=e.info.Age_of_onset_orp?t("li",[t("i",[e._v("发病年龄")]),t("span",[e._v(e._s(e.info.Age_of_onset_orp))])]):e._e(),"暂无"!=e.info.Inheritance_orp?t("li",[t("i",[e._v("遗传方式")]),t("span",[e._v(e._s(e.info.Inheritance_orp))])]):e._e(),"暂无"!=e.info.Prevalence_orp?t("li",[t("i",[e._v("发病率")]),t("span",[e._v(e._s(e.info.Prevalence_orp))])]):e._e()])]):e._e(),e.isMoreRelationship&&this.info.Phenotype_gene_relationship.length>0&&"暂无"!==e.info.Phenotype_gene_relationship[0].OMIM_id&&"暂无"!==e.info.Phenotype_gene_relationship[0].Location&&"暂无"!==e.info.Phenotype_gene_relationship[0].Gene&&"暂无"!==e.info.Phenotype_gene_relationship[0].Phenotype?t("div",{staticClass:"block block3"},[e._m(2),t("div",{staticClass:"gene"},[e.isMoreRelationship?[t("div",{staticClass:"diseases-tab diseases-tab1",staticStyle:{"margin-bottom":"0"}},[e._m(3),t("ul",{staticClass:"context"},e._l(this.info.Phenotype_gene_relationship,(function(n,i){return t("li",{key:i},[t("p",{staticStyle:{"text-align":"center"},attrs:{title:n.Phenotype}},[e._v(e._s(n.Phenotype))]),t("p",{staticStyle:{"text-align":"center"},attrs:{title:n.Gene}},[e._v(e._s(n.Gene))]),t("p",[e._v(e._s(n.Location))]),t("p",[t("span",{staticClass:"spn",on:{mouseenter:function(t){return e.handleShowDialog(n.OMIM_id,i,t)},click:function(t){return e.handleHideDialog(n)}}},[e._v(e._s(n.OMIM_id))])])])})),0),t("div",{staticClass:"mapping"},[t("p",{staticClass:"txt"},[e._v(e._s(e.info.Mapping))])])])]:[t("ul",{staticClass:"aside",class:{"brief-info":""===e.info.Mapping}},[t("li",[t("i",[e._v("疾病名")]),t("p",{staticStyle:{"text-align":"center"},attrs:{title:e.info.Phenotype_gene_relationship[0].Phenotype}},[e._v(e._s(e.info.Phenotype_gene_relationship[0].Phenotype))])]),t("li",[t("i",[e._v("基因名")]),t("p",{attrs:{title:e.info.Phenotype_gene_relationship[0].Gene}},[e._v(e._s(e.info.Phenotype_gene_relationship[0].Gene))])]),t("li",[t("i",[e._v("染色体位置")]),t("p",[e._v(e._s(e.info.Phenotype_gene_relationship[0].Location))])]),t("li",[t("i",[e._v("OMIM id")]),t("p",[t("span",{class:{spn:"暂无"!==e.info.Phenotype_gene_relationship[0].OMIM_id},on:{mouseenter:function(n){return e.handleShowDialog(e.info.Phenotype_gene_relationship[0].OMIM_id,0,n)},click:function(n){return e.handleHideDialog(e.info.Phenotype_gene_relationship[0])}}},[e._v(" "+e._s(e.info.Phenotype_gene_relationship[0].OMIM_id)+" ")])])])]),t("div",{directives:[{name:"show",rawName:"v-show",value:""!==e.info.Mapping,expression:"info.Mapping !== ''"}],staticClass:"mapping"},[t("p",[e._v(e._s(e.info.Mapping))])])]],2)]):e._e(),e.changeInfoTxt?t("div",{staticClass:"block"},[e._m(4)]):e._e()]),e.showDetails?t("div",{staticClass:"complete-information"},[e.changeInfoTxt?t("div",{staticClass:"all"},[t("ul",{staticClass:"aside"},e._l(e.changeInfoList,(function(n,i){return t("li",{key:i,class:{active:e.changeIndex===i},on:{click:function(t){return e.changeInfo(n,i)}}},[e._v(e._s(n.cname))])})),0),t("div",{staticClass:"container"},[t("div",{staticClass:"context"},[t("div",{staticClass:"box"},[t("vue-scroll",{attrs:{ops:e.scrollOps}},[t("h6",[e._v(e._s(e.changeInfoTit))]),t("div",[t("p",{staticClass:"change-txt",domProps:{innerHTML:e._s(e.changeInfoTxt)}})])])],1)])])]):e._e()]):e._e(),e.showDialog1?t("InfoDialog",{attrs:{pos:e.InfoDiaPos,data:e.dialogInfo}}):e._e(),t("AsideFix"),t("vFooter")],1)},a=[function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("p",{staticClass:"title"},[t("em",[e._v("疾病描述")]),t("span",[e._v("Disease description")])])},function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("p",{staticClass:"title"},[t("em",[e._v("简要信息")]),t("span",[e._v("Brief information")])])},function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("p",{staticClass:"title"},[t("em",[e._v("基因关联")]),t("span",[e._v("Gene association")])])},function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("p",{staticClass:"tit"},[t("span",[e._v("疾病名")]),t("span",[e._v("基因名")]),t("span",[e._v("染色体位置")]),t("span",[e._v("OMIM id")])])},function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("p",{staticClass:"title"},[t("em",[e._v("该疾病完整信息")]),t("span",[e._v("Complete information of the disease")])])}],s=(t("a4d3"),t("e01a"),t("4de4"),t("4160"),t("a434"),t("b0c0"),t("a9e3"),t("b64b"),t("07ac"),t("ac1f"),t("5319"),t("841c"),t("159b"),t("437c")),o=t("1c91"),c=t("3261"),r=t("91b4"),l=t("4e66"),h={components:{vHeader:s["a"],vFooter:o["a"],AsideFix:c["a"],InfoDialog:r["a"]},data:function(){return{showDetails:!1,queryList:[{name:"疾病英文名"},{name:"OMIM id"}],queryActive:0,placeholder:"",queryInp:"",isCollected:!1,reservedOne:0,currentCollectId:"",info:{disease_name:"",Description:"",Age_of_onset_orp:"",Inheritance_orp:"",Prevalence_orp:"",Phenotype_gene_relationship:[{Phenotype:"",Gene:"",Location:"",OMIM_id:""}],Mapping:"",Pathogenesis:"",Clinical_Features:"",Diagnosis:"",Clinical_Management:"",Population_Genetics:"",Cytogenetics:"",BiochemicalFeatures:"",Molecular_Genetics:"",Animal_Model:"",reference:""},isMoreRelationship:!1,scrollOps:{vuescroll:{mode:"native"},scrollPanel:{initialScrollY:!1,initialScrollX:!1,scrollingX:!1,scrollingY:!0,maxHeight:690},rail:{background:"#f1f1f1",opacity:1,size:"9px",specifyBorderRadius:"6px",gutterOfEnds:"10px"},bar:{background:"#3bcaff",onlyShowBarOnScroll:!0,showDelay:0,keepShow:!0,size:"16px"}},showDialog1:!1,InfoDiaPos:{},dialogInfo:{},changeInfoList:[{name:"分子遗传学"},{name:"克隆和表达"},{name:"基因功能"},{name:"定位"}],changeInfoTit:"",changeInfoTxt:"",changeIndex:0}},methods:{switchBtn:function(e){this.queryActive=e,this.queryInp=""},search:function(){var e=this;if(""!==this.queryInp){var n="",t={};switch(this.queryActive){case 0:n=this.$Url.query.diseaseInfoByName,t={disease_name:String(this.queryInp)};break;case 1:n=this.$Url.query.diseaseInformation,t={OMIM_id:String(this.queryInp)};break}this.$router.push({name:"diseaseQuery",query:{search:this.queryInp,active:this.queryActive}}),this.showDialog1=!1,this.$get(n,t).then((function(n){if(200===n.status){var t=n.data||[];if(Object.keys(t).length<=0)return e.showDetails=!1,void e.$message({type:"warning",duration:2e3,message:"查找的内容不存在"});e.showDetails=!0,e.originData=t,e.info.disease_name=t.disease_name,e.info.Description=t.Description||t.definition_orp||"暂无",e.info.Age_of_onset_orp=t.Age_of_onset_orp||"暂无",e.info.Inheritance_orp=t.Inheritance_orp||"暂无",e.info.Prevalence_orp=t.Prevalence_orp||"暂无";var i=t.Phenotype_gene_relationship;""!==i&&"string"===typeof i?(i=i.replace(/ None,/g," 'None',"),i=JSON.parse(i.replace(/\'/g,'"')),""!==i?e.getShip(i):(e.isMoreRelationship=!1,e.info.Phenotype_gene_relationship=[{Phenotype:"暂无",Gene:"暂无",Location:"暂无",OMIM_id:"暂无"}])):i?e.getShip(i):(e.isMoreRelationship=!0,e.info.Phenotype_gene_relationship=[{Phenotype:"暂无",Gene:"暂无",Location:"暂无",OMIM_id:"暂无"}]),e.info.Mapping=t.Mapping;var a=Object.keys(t),s=Object.values(t),o=[];for(var c in e.changeInfoTit="",e.changeInfoTxt="",a)Object(l["a"])(a[c],"cn")&&""!==s[c]&&o.push({cname:Object(l["a"])(a[c],"cn"),ename:a[c]});for(var r=0;r<o.length;r++)for(var h=r+1;h<o.length;h++)o[h].cname===o[r].cname&&(o.splice(h,1),h--);e.changeInfoList=o,e.changeInfoList.length>0&&e.changeInfo(e.changeInfoList[0],0),e.reservedOne=e.queryActive,e.getIsCollect()}else e.$message({type:"error",duration:2e3,message:n.msg})}))}else this.$message({type:"error",duration:2e3,message:"请输入查询内容"})},getShip:function(e){e.length>1?this.isMoreRelationship=!0:this.isMoreRelationship=!1;var n=[];for(var t in e){var i=e[t]["Phenotype"];"{"===i[0]&&(i=i.substr(1,i.length-1)),"}"===i[i.length-1]&&(i=i.substr(0,i.length-1));var a={Phenotype:i||"暂无",Gene:e[t]["Gene/Locus"]||"暂无",Location:e[t].Location||"暂无",OMIM_id:e[t]["Gene/Locus  MIM number"]||"暂无"};n.push(a)}this.info.Phenotype_gene_relationship=n},changeInfo:function(e,n){this.changeIndex=n,this.changeInfoTit=e&&e.cname;var t=this.originData[e.ename];"临床表现"===e.cname?t=this.originData["Clinical_Features"]||this.originData["Clinical_description_orp"]:"诊断"===e.cname&&(t=this.originData["Diagnosis"]||this.originData["Diagnostic_methods_orp"]),this.changeInfoTxt="<span>"+t+"</span>"},getPlaceholder:function(){this.placeholder="请输入"+this.queryList[this.queryActive].name},handleShowDialog:function(e,n,t){var i=this;if("-"!==e&&"暂无"!==e){var a=this.info.Phenotype_gene_relationship[n]["thisDescription"];if(a){this.dialogInfo={title:e,type:"OMIM:"+e,description:a},this.showDialog1=!0;var s=document.body.clientWidth,o=document.body.clientHeight;this.InfoDiaPos={pageX:t.pageX+300>s?t.pageX-380:t.pageX,pageY:t.pageY+300>o?t.pageY-300:t.pageY}}else this.$get(this.$Url.query.genebyOmId,{omim_id:e}).then((function(a){if(200===a.status){var s=a.data;if(s){i.dialogInfo={title:e,type:"OMIM:"+e,description:""!==s.gene_summary?s.gene_summary:"暂无"},i.$set(i.info.Phenotype_gene_relationship[n],"thisDescription",i.dialogInfo.description),i.showDialog1=!0;var o=document.body.clientWidth,c=document.body.clientHeight;i.InfoDiaPos={pageX:t.pageX+300>o?t.pageX-380:t.pageX,pageY:t.pageY+300>c?t.pageY-300:t.pageY}}}})).catch((function(e){}))}else this.showDialog1=!1},handleHideDialog:function(e){this.showDialog1=!1;var n=this.$router.resolve({name:"genesQuery",query:{search:e.OMIM_id,active:1}});window.open(n.href,"_blank")},querySearch:function(e,n){this.$get(this.$Url.query.byDiseaseName,{diseaseName:e}).then((function(e){var t=e.data;t&&(t.forEach((function(e){e.value=e.diseaseName})),n(t))})).catch((function(e){}))},handleSelect:function(e){this.queryInp=e.diseaseName,this.search()},getIsCollect:function(){var e=this;this.$post(this.$Url.collect.list).then((function(n){if(200===n.status){var t=n.data;if(t&&t.length>0){var i=t.filter((function(n){return n.name===e.queryInp}));i.length>0?(e.isCollected=!0,e.currentCollectId=i[0].id):e.isCollected=!1}}})).catch((function(e){}))},changeCollect:function(){var e=this;this.isCollected?this.$get(this.$Url.collect.delete,{collectId:this.currentCollectId}).then((function(n){200===n.status&&(e.$message({type:"success",duration:2e3,message:"取消收藏成功"}),e.isCollected=!1)})).catch((function(e){})):this.$post(this.$Url.collect.add,{name:this.queryInp,type:0,reservedOne:this.reservedOne,reservedTow:""}).then((function(n){200===n.status?(e.$message({type:"success",duration:2e3,message:"收藏成功"}),e.currentCollectId=n.data&&n.data.id||"",e.isCollected=!0):e.$message({type:"error",duration:2e3,message:n.msg})})).catch((function(e){}))}},watch:{queryActive:function(){this.getPlaceholder()}},mounted:function(){var e=this.$route.query;e.search&&(this.queryInp=e.search,this.queryActive=Number(e.active)||0,this.search()),this.getPlaceholder()}},p=h,u=(t("0e7c"),t("2877")),f=Object(u["a"])(p,i,a,!1,null,"6687fd1e",null);n["default"]=f.exports},"07ac":function(e,n,t){var i=t("23e7"),a=t("6f53").values;i({target:"Object",stat:!0},{values:function(e){return a(e)}})},"0e7c":function(e,n,t){"use strict";t("9315")},"4e66":function(e,n,t){"use strict";t.d(n,"b",(function(){return s})),t.d(n,"a",(function(){return o}));var i=[{cname:"分子遗传学",ename:"Molecular Genetics"},{cname:"动物模型",ename:"Animal Model"},{cname:"克隆和表达",ename:"Cloning and Expression"},{cname:"基因功能",ename:"Gene Function"},{cname:"定位",ename:"Mapping"},{cname:"基因结构",ename:"Gene Structure"},{cname:"生物学特征",ename:"Biochemical Features"},{cname:"研究历史",ename:"History"},{cname:"参考文献",ename:""}],a=[{cname:"发病机理",ename:"Pathogenesis"},{cname:"临床表现",ename:"Clinical_Features"},{cname:"临床表现",ename:"Clinical_description_orp"},{cname:"诊断",ename:"Diagnosis"},{cname:"诊断",ename:"Diagnostic_methods_orp"},{cname:"治疗",ename:"Clinical_Management"},{cname:"群体遗传学",ename:"Population_Genetics"},{cname:"生化特征",ename:"Cytogenetics"},{cname:"细胞遗传学",ename:"Biochemical Features"},{cname:"分子遗传学",ename:"Molecular_Genetics"},{cname:"动物模型",ename:"Animal_Model"},{cname:"参考文献",ename:""}];function s(e,n){var t=[],a=[];for(var s in i){var o=i[s].cname,c=i[s].ename;e===o&&a.push(c),e===c&&t.push(o)}if("cn"===n){if(t.length>1)return t;if(t.length>0)return t[0]}if("en"===n){if(a.length>1)return a;if(a.length>0)return a[0]}}function o(e,n){var t=[],i=[];for(var s in a){var o=a[s].cname,c=a[s].ename;e===o&&i.push(c),e===c&&t.push(o)}if("cn"===n){if(t.length>1)return t;if(t.length>0)return t[0]}if("en"===n){if(i.length>1)return i;if(i.length>0)return i[0]}}},"6f53":function(e,n,t){var i=t("83ab"),a=t("df75"),s=t("fc6a"),o=t("d1e7").f,c=function(e){return function(n){var t,c=s(n),r=a(c),l=r.length,h=0,p=[];while(l>h)t=r[h++],i&&!o.call(c,t)||p.push(e?[t,c[t]]:c[t]);return p}};e.exports={entries:c(!0),values:c(!1)}},9315:function(e,n,t){},a434:function(e,n,t){"use strict";var i=t("23e7"),a=t("23cb"),s=t("a691"),o=t("50c4"),c=t("7b0b"),r=t("65f0"),l=t("8418"),h=t("1dde"),p=t("ae40"),u=h("splice"),f=p("splice",{ACCESSORS:!0,0:0,1:2}),_=Math.max,g=Math.min,d=9007199254740991,m="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!u||!f},{splice:function(e,n){var t,i,h,p,u,f,v=c(this),y=o(v.length),I=a(e,y),C=arguments.length;if(0===C?t=i=0:1===C?(t=0,i=y-I):(t=C-2,i=g(_(s(n),0),y-I)),y+t-i>d)throw TypeError(m);for(h=r(v,i),p=0;p<i;p++)u=I+p,u in v&&l(h,p,v[u]);if(h.length=i,t<i){for(p=I;p<y-i;p++)u=p+i,f=p+t,u in v?v[f]=v[u]:delete v[f];for(p=y;p>y-i+t;p--)delete v[p-1]}else if(t>i)for(p=y-i;p>I;p--)u=p+i-1,f=p+t-1,u in v?v[f]=v[u]:delete v[f];for(p=0;p<t;p++)v[p+I]=arguments[p+2];return v.length=y-i+t,h}})},b64b:function(e,n,t){var i=t("23e7"),a=t("7b0b"),s=t("df75"),o=t("d039"),c=o((function(){s(1)}));i({target:"Object",stat:!0,forced:c},{keys:function(e){return s(a(e))}})}}]);
//# sourceMappingURL=diseaseQuery.d05e05af.js.map